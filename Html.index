<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>شباب قادرون | توزيع المهام</title>

<style>
:root {
    --primary: #0d6efd;
    --success: #198754;
    --danger: #dc3545;
    --light: #f8f9fa;
    --dark: #212529;
}

body {
    font-family: Arial, sans-serif;
    background: #eef2f7;
    margin: 0;
    padding: 0;
}

header {
    background: var(--primary);
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 22px;
    font-weight: bold;
}

.container {
    max-width: 900px;
    margin: 20px auto;
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

input, select, button {
    padding: 10px;
    margin: 5px 0;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 100%;
    font-size: 14px;
}

button {
    cursor: pointer;
    border: none;
}

.add-btn {
    background: var(--primary);
    color: white;
}

.task {
    background: var(--light);
    padding: 10px;
    margin-top: 10px;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.task.completed {
    background: #d4edda;
    text-decoration: line-through;
}

.task-info {
    flex: 1;
}

.task-actions button {
    margin-left: 5px;
    width: auto;
    padding: 6px 10px;
}

.complete-btn {
    background: var(--success);
    color: white;
}

.delete-btn {
    background: var(--danger);
    color: white;
}

@media (max-width: 600px) {
    .task {
        flex-direction: column;
        align-items: flex-start;
    }
}
</style>
</head>

<body>

<header>مؤسسة شباب قادرون - نظام توزيع المهام</header>

<div class="container">

<h3>إضافة مهمة جديدة</h3>

<input type="text" id="taskTitle" placeholder="اسم المهمة">
<input type="text" id="taskPerson" placeholder="المسؤول عن التنفيذ">
<select id="taskPriority">
    <option value="عادية">أولوية عادية</option>
    <option value="مهمة">مهمة</option>
    <option value="عاجلة">عاجلة</option>
</select>
<input type="date" id="taskDate">

<button class="add-btn" onclick="addTask()">إضافة المهمة</button>

<hr>

<h3>المهام الحالية</h3>
<div id="taskList"></div>

</div>

<script>
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

function saveTasks() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
}

function renderTasks() {
    const list = document.getElementById("taskList");
    list.innerHTML = "";

    tasks.forEach((task, index) => {
        const taskDiv = document.createElement("div");
        taskDiv.className = "task" + (task.completed ? " completed" : "");

        taskDiv.innerHTML = `
            <div class="task-info">
                <strong>${task.title}</strong><br>
                المسؤول: ${task.person}<br>
                الأولوية: ${task.priority}<br>
                الموعد النهائي: ${task.date || "غير محدد"}
            </div>
            <div class="task-actions">
                <button class="complete-btn" onclick="toggleTask(${index})">
                    ${task.completed ? "إلغاء" : "تم"}
                </button>
                <button class="delete-btn" onclick="deleteTask(${index})">
                    حذف
                </button>
            </div>
        `;

        list.appendChild(taskDiv);
    });
}

function addTask() {
    const title = document.getElementById("taskTitle").value.trim();
    const person = document.getElementById("taskPerson").value.trim();
    const priority = document.getElementById("taskPriority").value;
    const date = document.getElementById("taskDate").value;

    if (!title || !person) {
        alert("من فضلك اكتب اسم المهمة واسم المسؤول");
        return;
    }

    tasks.push({
        title,
        person,
        priority,
        date,
        completed: false
    });

    saveTasks();
    renderTasks();

    document.getElementById("taskTitle").value = "";
    document.getElementById("taskPerson").value = "";
    document.getElementById("taskDate").value = "";
}

function toggleTask(index) {
    tasks[index].completed = !tasks[index].completed;
    saveTasks();
    renderTasks();
}

function deleteTask(index) {
    tasks.splice(index, 1);
    saveTasks();
    renderTasks();
}

renderTasks();
</script>

</body>
</html>